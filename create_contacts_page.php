<?php
// –ü—Ä–æ—Å—Ç–æ–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã "–ö–æ–Ω—Ç–∞–∫—Ç—ã"
require_once('wp-config.php');
require_once('wp-load.php');

echo "–°–æ–∑–¥–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É '–ö–æ–Ω—Ç–∞–∫—Ç—ã'...\n";

// –°–æ–∑–¥–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ö–æ–Ω—Ç–∞–∫—Ç—ã"
$page_data = array(
    'post_title' => '–ö–æ–Ω—Ç–∞–∫—Ç—ã',
    'post_name' => 'kontakty',
    'post_content' => '<h2>–ö–∞–∫ –Ω–∞—Å –Ω–∞–π—Ç–∏</h2>
<p>–ú—ã –≤—Å–µ–≥–¥–∞ —Ä–∞–¥—ã –≤–∏–¥–µ—Ç—å –≤–∞—Å –≤ –Ω–∞—à–µ–π –∫–ª–∏–Ω–∏–∫–µ. –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–∏–µ–º, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –ª—é–±—ã–º —É–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º.</p>

<h3>–ù–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã</h3>
<p>–û–û–û ¬´–î–ï–ù–¢–ê¬ª - –≤–∞—à–∞ –Ω–∞–¥–µ–∂–Ω–∞—è —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –∫–ª–∏–Ω–∏–∫–∞ –≤ –ï–ª–∏–∑–æ–≤–æ.</p>',
    'post_status' => 'publish',
    'post_type' => 'page',
    'post_author' => 1
);

// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞
$existing_page = get_page_by_path('kontakty');

if ($existing_page) {
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
    $page_data['ID'] = $existing_page->ID;
    $result = wp_update_post($page_data);
    echo "‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ '–ö–æ–Ω—Ç–∞–∫—Ç—ã' –æ–±–Ω–æ–≤–ª–µ–Ω–∞! ID: " . $existing_page->ID . "\n";
} else {
    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
    $result = wp_insert_post($page_data);
    echo "‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ '–ö–æ–Ω—Ç–∞–∫—Ç—ã' —Å–æ–∑–¥–∞–Ω–∞! ID: " . $result . "\n";
}

if (is_wp_error($result)) {
    echo "‚ùå –û—à–∏–±–∫–∞: " . $result->get_error_message() . "\n";
} else {
    echo "üéâ –£—Å–ø–µ—à–Ω–æ! –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: " . get_permalink($result) . "\n";
    echo "üìù –ù–µ –∑–∞–±—É–¥—å—Ç–µ –Ω–∞–∑–Ω–∞—á–∏—Ç—å —à–∞–±–ª–æ–Ω '–ö–æ–Ω—Ç–∞–∫—Ç—ã' –≤ –∞–¥–º–∏–Ω–∫–µ WordPress!\n";
}
?>
